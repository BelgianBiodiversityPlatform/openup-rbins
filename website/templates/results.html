{% extends "base.html" %}

{% load querystring_tags %}

{% block content %}
<h1>{{ pictures.paginator.count }} results</h1>

<h2>Active filters</h2>
<ul>
{% for filter in filters %}
  {{ filter.name }}: {{ filter.value }}
{% empty %}
    <li>All pictures are displayed.</li>
{% endfor %}
</ul>

<ul class="thumbnails">
  
    {% for picture in pictures %}
    <li class="span2">
      <a class="thumbnail" data-toggle="lightbox" data-target="#lightbox_{{ picture.id }}">
        <img src={{ picture.fileuri }} alt="" />
      </a>
    </li> 
    
    {% include "_picture_modal.html" with picture=picture %}
     
    {% endfor %}
    
  </ul>


  {# TODO: implement JS-based shortcuts so they cna be used without the ALT key  #}
  {# TODO: Describe the sortcuts on the page #}
  <div class="pagination pagination-right">
    <ul>
      <li {% if not pictures.has_previous %}class="disabled"{% endif %}>
        {% if pictures.has_previous %}
          <a accesskey="<" href="{% url website-search-view %}?{% qs_alter request.GET page=pictures.previous_page_number %}">«</a>
        {% else %}
          <a href="javascript: void(0)">«</a>
        {% endif %}  
      </li>

      <li class="active">
        <a>Page {{ pictures.number }} of {{ pictures.paginator.num_pages }}.</a>
      </li>

      <li {% if not pictures.has_next %}class="disabled"{% endif %}>
        {% if pictures.has_next %}
          <a accesskey=">" href="{% url website-search-view %}?{% qs_alter request.GET page=pictures.next_page_number %}">»</a>
        {% else %}
          <a href="javascript: void(0)">»</a>
        {% endif %} 
      </li>
    </ul>
  </div>

  {% endblock %}
  